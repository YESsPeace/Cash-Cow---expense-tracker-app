<BoxLayoutButton>:
    radius: [0, 0, 0, 0]
    padding: [dp(5), dp(5), dp(5), dp(5)]
    size_hint_y: None
    height: dp(50)

<menu_for_new_account>:
    md_bg_color: (0.85, 0.85, 0.85, 1)

    MDBoxLayout:
        id: top_bar
        orientation: 'vertical'
        pos_hint: {'top': 1}
        size_hint_y: None
        height: dp(150)

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(60)
            md_bg_color: .6, .1, .2, 1

            MDIconButton:
                icon: 'arrow-left'
                size_hint_y: 1
                width: self.height

                on_release:
                    root.quit_from_menu()

                canvas.before:
                    Color:
                        rgba: .6, .1, .2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

            MDLabel:
                text: 'Account'
                font_size: 18
                halign: "left"
                valign: "middle"


            MDIconButton:
                icon: 'check'
                size_hint_y: 1
                width: self.height

                on_release:
                    root.complete_pressed()

                canvas.before:
                    Color:
                        rgba: .6, .1, .2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: .6, .1, .2, 1
            padding: dp(48), 0, dp(48), dp(12)

            MDScreen:
                MDLabel:
                    text: 'Name'
                    theme_text_color: 'Secondary'
                    font_style: 'Caption'

            MDScreen:
                MDTextField:
                    id: account_name_text_field

                    text: root.account_info.get('Name', '<account Name>')
                    theme_text_color: 'Primary'
                    font_style: 'H5'

    MDScreen:
        size_hint_y: None
        height: root.height - top_bar.height - dp(24)

        MDScrollView:
            size_hint: 1, None
            size: self.parent.size
            adaptive_height: True

            MDBoxLayout:
                id: buttons_box

                orientation: 'vertical'
                pos_hint: {'top': 1}
                size_hint_y: None
                adaptive_height: True

                spacing: dp(10)

                MDScreen:
                    size_hint: 1, None
                    height: dp(25)
                    MDLabel:
                        text: 'Account'
                        theme_text_color: "Custom"
                        text_color: .05, .9, .05, 1

                BoxLayoutButton:
                    ripple_behavior: True
                    orientation: 'vertical'
                    size_hint: 1, None
                    height: dp(50)
                    on_release:
                        root.change_account_type()

                    MDLabel:
                        text: 'Type'

                    MDLabel:
                        id: account_type_label

                        text: root.account_info['type']

                BoxLayoutButton:
                    ripple_behavior: True
                    orientation: 'vertical'
                    size_hint: 1, None
                    height: dp(50)
                    on_release:
                        root.currency_pressed()

                    MDLabel:
                        text: 'account currency'

                    MDLabel:
                        text: 'Russian ruble â‚½'



                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint: 1, None
                    height: dp(75)
                    md_bg_color: [0.12941176470588237, 0.12941176470588237, 0.12941176470588237, 1.0]

                    MDLabel:
                        text: 'Description'

                    MDScreen:
                        MDTextField:
                            id: account_description_text_field

                            text: root.account_info.get('Description', 'None')
                            theme_text_color: 'Secondary'
                            font_style: 'H5'

                MDScreen:
                    size_hint: 1, None
                    height: dp(25)
                    MDLabel:
                        text: 'Balance'
                        theme_text_color: "Custom"
                        text_color: .05, .9, .05, 1

                BoxLayoutButton:
                    ripple_behavior: True
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: dp(50)
                    on_release:
                        root.open_balance_writer()

                    MDScreen:
                        MDLabel:
                            text: 'Account balance'

                    MDLabel:
                        id: account_balance

                        halign: "right"
                        text: str(root.account_info.setdefault('Balance', 0))

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: dp(50)
                    md_bg_color: [0.12941176470588237, 0.12941176470588237, 0.12941176470588237, 1.0]

                    MDScreen:
                        MDLabel:
                            text: 'Include in total balance'

                    MDScreen:
                        size_hint_x: None
                        width: dp(75)
                        MDSwitch:
                            pos_hint: {'center_y': 0.5}

                            on_active:
                                root.switch_updated(self)

                BoxLayoutButton:
                    id: change_color

                    ripple_behavior: True
                    size_hint_y: None
                    height: dp(50)

                    on_release:
                        root.open_color_picker()

                    MDBoxLayout:
                        orientation: 'horizontal'

                        MDIconButton:
                            icon: 'format-color-fill'
                            pos_hint: {'center_y': 0.5}

                        MDLabel:
                            size_hint: 1, 1

                            text: 'Change account color'

                            theme_text_color: "Custom"
                            text_color: .6, .4, .4, 1

                BoxLayoutButton:
                    id: remove_btn

                    ripple_behavior: True
                    size_hint_y: None
                    height: dp(50)

                    on_release:
                        root.delete_account()

                    MDBoxLayout:
                        orientation: 'horizontal'

                        MDIconButton:
                            icon: 'basket'
                            pos_hint: {'center_y': 0.5}

                        MDLabel:
                            size_hint: 1, 1

                            text: 'remove account'

                            theme_text_color: "Custom"
                            text_color: .89, .11, .11, 1


    MDIconButton:
        id: account_button
        pos: root.width - dp(60), root.height - dp(174)

        icon: root.account_info.get('Icon', 'card')
        md_bg_color: root.account_info.get('Color', [0, 0, 0, 1])[:-1] + [1]

        on_release:
            root.open_icon_choice_menu()