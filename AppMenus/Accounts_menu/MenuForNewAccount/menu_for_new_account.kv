<menu_for_new_account>:
    md_bg_color: (0.85, 0.85, 0.85, 1)

    MDBoxLayout:
        id: top_bar
        orientation: 'vertical'
        pos_hint: {'top': 1}
        size_hint_y: None
        height: dp(150)

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(60)
            md_bg_color: .6, .1, .2, 1

            MDIconButton:
                icon: 'arrow-left'
                size_hint_y: 1
                width: self.height

                on_release:
                    root.quit_from_menu()

                canvas.before:
                    Color:
                        rgba: .6, .1, .2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

            MDLabel:
                text: 'Account'
                font_size: 18
                halign: "left"
                valign: "middle"


            MDIconButton:
                icon: 'check'
                size_hint_y: 1
                width: self.height

                on_release:
                    root.complete_pressed()

                canvas.before:
                    Color:
                        rgba: .6, .1, .2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: .6, .1, .2, 1
            padding: dp(48), 0, dp(48), dp(12)

            MDScreen:
                MDLabel:
                    text: 'Name'
                    theme_text_color: 'Secondary'
                    font_style: 'Caption'

            MDScreen:
                MDTextField:
                    id: account_name_text_field

                    text: root.account_info.get('Name', '<account Name>')
                    theme_text_color: 'Primary'
                    font_style: 'H5'

    MDScreen:
        size_hint_y: None
        height: root.height - top_bar.height - dp(24)


        MDBoxLayout:
            orientation: 'vertical'
            pos_hint: {'top': 1}
            size_hint_y: None
            adaptive_height: True

            spacing: dp(15)

            BoxLayoutButton:
                ripple_behavior: True
                orientation: 'vertical'
                size_hint: 1, None
                height: dp(150)
                padding: dp(10)
                spacing: dp(5)

                on_release:
                    root.currency_pressed()

                MDScreen:
                    md_bg_color: (.33, .33, .33, 1)
                    MDLabel:
                        text: 'Settings'


                MDScreen:
                    md_bg_color: (.33, .33, .33, 1)
                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: 'account currency'

                        MDLabel:
                            text: 'Russian ruble â‚½'

            BoxLayoutButton:
                id: change_color

                ripple_behavior: True
                size_hint_y: None
                height: dp(75)

                on_release:
                    root.open_color_picker()

                MDBoxLayout:
                    orientation: 'horizontal'

                    MDIconButton:
                        icon: 'format-color-fill'
                        pos_hint: {'center_y': 0.5}

                    MDLabel:
                        size_hint: 1, 1

                        text: 'Change account color'

                        theme_text_color: "Custom"
                        text_color: .6, .4, .4, 1

            BoxLayoutButton:
                id: remove_btn

                ripple_behavior: True
                size_hint_y: None
                height: dp(75)

                on_release:
                    root.delete_account()

                MDBoxLayout:
                    orientation: 'horizontal'

                    MDIconButton:
                        icon: 'basket'
                        pos_hint: {'center_y': 0.5}

                    MDLabel:
                        size_hint: 1, 1

                        text: 'remove account'

                        theme_text_color: "Custom"
                        text_color: .89, .11, .11, 1


    MDIconButton:
        id: account_button
        pos: root.width - dp(60), root.height - dp(174)

        icon: root.account_info.get('Icon', 'card')
        md_bg_color: root.account_info.get('Color', [0, 0, 0, 1])[:-1] + [1]

        on_release:
            root.open_icon_choice_menu()