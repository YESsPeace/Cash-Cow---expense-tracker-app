<WaterFill>:
    width: self.height
    size_hint: None, None
    color: 0, 0, 0, .25

    canvas:
        Color:
            rgba: root.color

        Ellipse:
            pos: root.pos
            size: root.size


        StencilPush
        Ellipse:
            pos: root.pos
            size: root.size

        StencilUse

        Color:
            rgb: root.color[:-1]

        Rectangle:
            pos: root.pos
            size: (root.width, root.level * root.height)

        StencilUnUse

        StencilPop

        StencilUnUse
